sudo: required
dist: trusty
before_install:
- sudo sh -c "echo 'deb http://download.opensuse.org/repositories/home:/pstavirs:/ostinato/xUbuntu_14.04/ /' >> /etc/apt/sources.list.d/ostinato.list"
- sudo apt-get -qq update
- sudo apt-get install -y ostinato
language: python
python:
- '2.7'
- pypy
install:
- travis_retry pip install -r requirements.txt
- travis_retry pip install -r requirements-tests.txt
script:
- sudo ip link add vostinato0 type veth peer name vostinato1
- sudo ip link set vostinato0 up
- sudo ip link set vostinato1 up
- sudo env PATH=$PATH VIRTUAL_ENV=$VIRTUAL_ENV nose2 --plugin nose2.plugins.layers -s tests -v
